---
title: gdb_coredump
abbrlink: ed619d22
date: 2022-05-31 21:00:48
categories:
tags:
---
# check system core dump config
core file size (blocks, -c) 0 => 
```
# ulimit -a
core file size (blocks, -c) 0
data seg size (kbytes, -d) unlimited
scheduling priority (-e) 0
file size (blocks, -f) unlimited
pending signals (-i) 132090
max locked memory (kbytes, -l) 64
max memory size (kbytes, -m) unlimited
open files (-n) 1024
pipe size (512 bytes, -p) 8
POSIX message queues (bytes, -q) 819200
real-time priority (-r) 0
stack size (kbytes, -s) 8192
cpu time (seconds, -t) unlimited
max user processes (-u) unlimited
virtual memory (kbytes, -v) unlimited
file locks (-x) unlimited
```
# programe
```c
#include <stdio.h>

int main()
{
    int *a;
    *a = 1;
    return 0;
}
```
# compile
gcc -g -o test test.c

# execute
```
[root@gnb ~]# sudo sh -c "ulimit -c unlimited; ./test"
sh: line 1: 36407 segmemtatation fault (core dumped) ./test

[root@gnb ~]# ll
Total 34888
-rw------- 1 root root 249856 May 31 20:56 core.36407
-rwxr-xr-x 1 root root 9232 May 31 20:52 test
-rw-r--r-- 1 root root 73 May 31 20:52 test.c
```
# gdb
```
[root@gnb ~]# gdb test core.36407
GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-120.el7
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law. Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-redhat-linux-gnu".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /root/test...done.
[New LWP 36407]
Core was generated by `./test'.
Program terminated with signal 11, Segmentation fault.
#0 0x00000000004004ce in main () at test.c:6
6 *a = 1;
Missing separate debuginfos, use: debuginfo-install glibc-2.17-324.el7_9.x86_64
(gdb) q
```
# backtrace
```
(gdb) bt
#0 0x00000000004004ce in main () at test.c:6
```